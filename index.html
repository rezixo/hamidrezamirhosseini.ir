<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hamidreza Mihrosseni</title>
  <meta name="description" content="Hello, I am Hamidreza Mirhosseini.">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f8f8;
      text-align: center;
      line-height: 1.6;
    }
    h1 {
      margin-top: 20px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
    }
    .editor {
      width: 45%;
      min-height: 200px;
      border: 1px solid #ccc;
      margin: 10px;
      padding: 10px;
      border-radius: 5px;
      background-color: #fff;
      font-family: monospace;
    }
    .editor textarea {
      width: 100%;
      height: 100%;
      border: none;
      font-size: 14px;
      line-height: 1.5;
      background-color: #f8f8f8;
      padding: 10px;
    }
    .buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    button {
      padding: 10px 15px;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .save-btn { background-color: #316694; }
    .save-btn:hover { background-color: #316f9e; }


    .preview-btn { background-color: #b8ff1f; }
    .preview-btn:hover { background-color: #0056b3; }

    .download-btn { background-color: #0d9c78d7; }
    .download-btn:hover { background-color: #1e7e34; }

    .clear-btn { background-color: #dc3545; }
    .clear-btn:hover { background-color: #b02a37; }

    .share-btn { background-color: #ff9800; }
    .share-btn:hover { background-color: #24a67f87; }

    .hamidreza-btn { background-color: #ff0794; }
    .hamidreza-btn:hover { background-color: #5213ff; }


    .info {
      margin-top: 10px;
      font-weight: bold;
      color: #555;
    }
    .output {
      width: 100%;
      margin-top: 20px;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #fff;
      min-height: 200px;
      border-radius: 5px;
    }
  </style>
</head>
<body style="background-color: #555;" >
  <h1>Website Design Code Editor</h1>

  <div class="container">
    <div class="editor">
      <h3>HTML Editor</h3>
      <textarea id="htmlCode" placeholder="Write your HTML code here..."></textarea>
    </div>
    <div class="editor">
      <h3>CSS Editor</h3>
      <textarea id="cssCode" placeholder="Write your CSS code here..."></textarea>
    </div>
    <div class="editor">
      <h3>JavaScript Editor</h3>
      <textarea id="jsCode" placeholder="Write your JavaScript code here..."></textarea>
    </div>
  </div>

  <div class="buttons">
    <button class="save-btn" onclick="saveCode()">Save Code</button>
    <button class="preview-btn" onclick="previewCode()">View Preview</button>
    <button class="download-btn" onclick="downloadCode()">Download Code</button>
    <button class="clear-btn" onclick="clearCode()">Clear All Code</button>
    <button class="share-btn" onclick="shareCode()">Share Code</button>
    <button class="hamidreza-btn" onclick="hamidrezaCode()">Hamidreza, make my site magical.</button>

  </div>

  <div class="info">
    <p>HTML Lines: <span id="htmlLines">0</span>, CSS Lines: <span id="cssLines">0</span>, JavaScript Lines: <span id="jsLines">0</span></p>
  </div>

  <div class="output" id="output">
    <h3>Code Preview</h3>
    <iframe id="previewFrame" style="width: 100%; height: 400px; border: none;"></iframe>
  </div>

  <div class="co"></div>

  <script>
    function saveCode() {
      var html = document.getElementById('htmlCode').value;
      var css = document.getElementById('cssCode').value;
      var js = document.getElementById('jsCode').value;

      localStorage.setItem('htmlCode', html);
      localStorage.setItem('cssCode', css);
      localStorage.setItem('jsCode', js);

      alert('کد شما ذخیره شد!');
    }

    function loadSavedCode() {
      if (localStorage.getItem('htmlCode')) {
        document.getElementById('htmlCode').value = localStorage.getItem('htmlCode');
      }
      if (localStorage.getItem('cssCode')) {
        document.getElementById('cssCode').value = localStorage.getItem('cssCode');
      }
      if (localStorage.getItem('jsCode')) {
        document.getElementById('jsCode').value = localStorage.getItem('jsCode');
      }
      updateLineCount(); // بروزرسانی تعداد خطوط
    }

    // لود شدن کد ذخیره‌شده هنگام باز شدن صفحه
    window.onload = loadSavedCode;


    function previewCode() {
      var html = document.getElementById('htmlCode').value;
      var css = document.getElementById('cssCode').value;
      var js = document.getElementById('jsCode').value;
      var iframe = document.getElementById('previewFrame');

      // Open, write content, and close the iframe document
      var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
      iframeDoc.open();
      iframeDoc.write('<html><head><style>' + css + '</style></head><body>' + html + '<script>' + js + '<\/script></body></html>');
      iframeDoc.close();
    }

    function downloadCode() {
      var html = document.getElementById('htmlCode').value;
      var css = document.getElementById('cssCode').value;
      var js = document.getElementById('jsCode').value;
  
      function downloadFile(content, fileName, mimeType) {
        var blob = new Blob([content], { type: mimeType });
        var link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = fileName;
        link.click();
      }

      downloadFile(html, 'index.html', 'text/html');
      downloadFile(css, 'style.css', 'text/css');
      downloadFile(js, 'script.js', 'application/javascript');
    }

    function clearCode() {
      document.getElementById('htmlCode').value = '';
      document.getElementById('cssCode').value = '';
      document.getElementById('jsCode').value = '';
      updateLineCount();
    }

    function shareCode() {
      var html = encodeURIComponent(document.getElementById('htmlCode').value);
      var css = encodeURIComponent(document.getElementById('cssCode').value);
      var js = encodeURIComponent(document.getElementById('jsCode').value);
      var link = '/share?html=' + html + '&css=' + css + '&js=' + js;
      alert('Your code is shared! Share this link: ' + link);
    }

    function updateLineCount() {
      document.getElementById('htmlLines').textContent = document.getElementById('htmlCode').value.split('\n').length;
      document.getElementById('cssLines').textContent = document.getElementById('cssCode').value.split('\n').length;
      document.getElementById('jsLines').textContent = document.getElementById('jsCode').value.split('\n').length;
    }

    document.getElementById('htmlCode').addEventListener('input', updateLineCount);
    document.getElementById('cssCode').addEventListener('input', updateLineCount);
    document.getElementById('jsCode').addEventListener('input', updateLineCount);
  </script>

</body>
</html>
